name: GitGuardian Scan

on:
  pull_request:
    branches:
      - main
      - nonprod
  push:
    branches:
      - main
      - nonprod
permissions: write-all

jobs:
  scanning:
    name: GitGuardian scan
    env:
      GITGUARDIAN_ACCESS_TOKEN: ${{ secrets.GITGUARDIAN_ACCESS_TOKEN }}
    uses: reminder-bot-microservices/.github/.github/workflows/scan_leaks.yaml@main
    with:
      GITGUARDIAN_ACCESS_TOKEN: ${{ github.env.GITGUARDIAN_ACCESS_TOKEN }}
